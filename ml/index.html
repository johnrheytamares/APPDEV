<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Booking Prediction</title>
</head>
<body>
  <h1>Eduardoâ€™s Resort Booking Prediction</h1>

  <label>Occupancy (%): <input id="occupancy" type="number" value="60"></label><br>
  <label>Guests: <input id="guests" type="number" value="58"></label><br>
  <label>Day: <input id="day" type="number" value="1"></label><br>
  <label>Month: <input id="month" type="number" value="1"></label><br>
  <label>Year: <input id="year" type="number" value="2024"></label><br>
  <label>Day of Week (0=Mon): <input id="day_of_week" type="number" value="0"></label><br><br>

  <button onclick="predict()">Predict Bookings</button>

  <h2 id="result"></h2>

  <script>
    async function predict() {
      const body = {
        occupancy: Number(document.getElementById("occupancy").value),
        guests: Number(document.getElementById("guests").value),
        day: Number(document.getElementById("day").value),
        month: Number(document.getElementById("month").value),
        year: Number(document.getElementById("year").value),
        day_of_week: Number(document.getElementById("day_of_week").value)
      };

      try {
        const response = await fetch("http://127.0.0.1:5000/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body)
        });

        if (!response.ok) {
          throw new Error("Server returned " + response.status);
        }

        const data = await response.json();
        document.getElementById("result").innerText =
          "Predicted Bookings: " + data.prediction;
      } catch (err) {
        document.getElementById("result").innerText =
          "Error: " + err.message;
      }
    }
  </script>
</body>
</html>
